// BPIX Cooling blocks
// module with 2 chips


// 2 x Al-N rails (same for all 1x2 modules)
Component {
  componentName "Cooling: Cooling blocks (AlN rails)"
  service false
  scaleOnSensor 0
  Element {
    elementName AlN
    quantity 0.52 //it was 0.25       // 2 rails, each is 4.5 mm (width) x 43 mm (length) x 0.2 mm (thickness). Density used is 3.26 g/cm3. Source: [TBPX_2019_01_15_AB]. 
    unit g             
    targetVolume 3      // APPROXIMATION: mass spread across a uniform parallelepiped, while these are 2 rails!
                        // This is a strong approximation: allow support in the code?

//Angela: in the previous calculation g = g/cm3*mm3 = 0.126g which x2 is 0.25
//now let's compute the new number: we have 23.700 total grams on 30 AlN, which means that we want 23.7/30*2=1.58g
//Angela: divided by 2?
  }
}


// High conductivity CF plate (same for all 1x2 modules)
//Internal/external ladder
Component {
  componentName "Cooling: Cooling blocks (CF plate)"
  service false
  scaleOnSensor 0
  Element {
    elementName CF
    quantity 1.250 //0.625 //it was 0.9           // Along a rod: (23.5 mm (width) x 400 mm (length under sensors) - 9 holes x 5 mm (hole width) x 30 mm (hole length)) x 0.5 mm (thickness) divided by 9 modules. Density used is 1.9 g/cm3. Source: [TBPX_2019_01_15_AB]
    unit g                  
    targetVolume 3         // APPROXIMATION: On modules volumes instead of ladders.
                           // There are hence small gaps in Z, but radial position is more reasonable (in betweens sensors, instead of outermost layer volume).
                           // Mass distribution is different in reality: THERE SHOULD BE HOLES!!
                           // This is a strong approximation: allow support in the code?

//Angela: here the calculation should be 18.756g/3 ladders = 6.25g per ladder that we have to divide for the number of modules which is 10 ==> 0.625, but this is per module so it should be divided by 5 ==> 1.250
  }
}


// 2 x Housing pipes (same for all 1x2 modules)
//Internal/external ladder housing pipes
Component {
  componentName "Cooling: Cooling blocks (C Foam housing pipe)"
  service false
  Element {
    scaleOnSensor 0
    elementName Carbon_foam_BPX   // 2 housings, each is: (7 mm (width) x 1.5 mm (thickness) - 0.5 x PI x 0.9^2) x 411 mm (length) divided by 9 modules. Density used is 0.5 g/cm3. Source: [TBPX_2019_01_15_AB]
    quantity 0.036 //it was 0.421
    unit g
    targetVolume 3                // APPROXIMATION: mass spread across a uniform parallelepiped, while these are 2 housings!
                                  // This is a strong approximation: allow support in the code?
//Angela: same as above ==> 1.104g/ 6 number of housing pipes (3x2) / 10 number of modules = 0.018 ==> 1.104g/ 6 number of housing pipes (3x2) / 5 number of modules = 0.036
  }
}


// 2 x Half cooling pipes
//ladder cooling pipes + CO2
Component {
  componentName "Cooling: Pipes & Coolant (on ladders)"
  service false
  scaleOnSensor 0
  Element {
    elementName StainlessSteel
    quantity 0.272 //it was 0.20       // 2 half cooling pipes. 
                        // 1 cooling pipe is ID = 1.6 mm, OD = 1.8mm, length 400 mm (under active sensors) divided by 9 modules. Density used is 8.02 g/cm3. 
                        // Source: [IT_COOLING_2019_04_16]
    unit g             
    targetVolume 3      // APPROXIMATION: mass spread across a uniform parallelepiped, while these are 2 half pipes!!!!!!!!!!
                        // This is a strong approximation: allow support in the code?
                        // + Section going along width of module at Z=0 not there.

//Angela: here is the same 8.17g / 1 ladder / 10 modules = 0.817g  ==> 8.17g / 6 ladder / 5 modules = 0.272
  }
  Element {
    elementName CO2
    quantity 0.099 //0.049 //it was 0.10       // 2 half cooling pipes. 
                        // 1 cooling pipe is ID = 1.6 mm, OD = 1.8mm, length 400 mm (under active sensors) divided by 9 modules. Density used is 1.0 g/cm3. 
                        // Source: [IT_COOLING_2019_04_16]
    unit g             
    targetVolume 3      // APPROXIMATION: mass spread across a uniform parallelepiped, while these are 2 half pipes!!!!!!!!!!
                        // This is a strong approximation: allow support in the code?
                        // + Section going along width of module at Z=0 not there.
//Angela: 3.970g / 8 ladders / 10 modules = 0.049 ==> 3.970g / 8 ladders / 5 modules = 0.099
  }  
}


